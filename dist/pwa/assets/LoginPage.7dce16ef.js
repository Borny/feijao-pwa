import{al as V,an as L,am as A,c as d,r,o as k,aL as g,j as n,as as c,y as I,at as b,aE as P,aD as v,H as y,au as q,az as x,aT as N,aU as F,aC as M}from"./index.3e321f06.js";import{u as B}from"./use-quasar.7b1fc602.js";import{u as E}from"./app.504a9c26.js";const Q={name:"AdminLogin",setup(){const o=B(),s=E(),t=L(),e=A(),u=d(()=>t.isAuth),m=d(()=>l.value&&l.value.length>=4),a=d(()=>l.value&&l.value.length<6),h=r(""),p=r(""),l=r(null),i=r(!1),f=r(!1);function _(){s.$patch({appTitle:"Login"}),f.value=!0}k(async()=>{_()});async function S(){i.value=!0;try{await t.login(p.value,l.value)||o.notify({message:"Please check your name or password",color:"negative"}),e.replace("/home")}catch{o.notify({message:"Please check your name or password",color:"negative"})}finally{i.value=!1}}return{authStore:t,loginSuccess:h,isAuth:u,submit:S,displayForm:f,name:p,password:l,isPasswordValid:m,passwordTooShort:a,isLoading:i}}},T=o=>(N("data-v-d0001408"),o=o(),F(),o),C={class:"row flex-center container bg-primary"},D=T(()=>M("div",{class:"text-h3 q-ma-xl text-center text-info font-keep-on-truckin"},"Feij\xE3o M\xE1gico",-1));function R(o,s,t,e,u,m){return b(),g("div",C,[n(I,null,{default:c(()=>[e.displayForm?(b(),g("form",{key:0,class:"column items-center form",onSubmit:s[2]||(s[2]=P((...a)=>e.submit&&e.submit(...a),["prevent"]))},[D,n(v,{clearable:"",disable:e.isLoading,type:"text",color:"info","label-color":"info",modelValue:e.name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.name=a),label:o.$t("NAME"),placeholder:o.$t("NAME"),class:"q-mb-sm control",rules:[a=>!!a||"Field is required"]},{prepend:c(()=>[n(y,{color:"info",name:"account_circle"})]),_:1},8,["disable","modelValue","label","placeholder","rules"]),n(v,{clearable:"",disable:e.isLoading,type:"password",color:"info","label-color":"info",placeholder:o.$t("PASSWORD"),label:o.$t("PASSWORD"),modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=a=>e.password=a),class:"q-mb-sm control",rules:[a=>!!a||"Field is required"]},{prepend:c(()=>[n(y,{color:"info",name:"key"})]),_:1},8,["disable","placeholder","label","modelValue","rules"]),n(q,{rounded:"",color:"info","text-color":"primary",label:o.$t("SIGN_IN"),loading:e.isLoading,disabled:!e.name||!e.isPasswordValid||e.isLoading,class:"q-mt-lg",type:"submit"},null,8,["label","loading","disabled"])],32)):x("",!0)]),_:1})])}var W=V(Q,[["render",R],["__scopeId","data-v-d0001408"]]);export{W as default};
