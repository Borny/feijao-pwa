import{ai as V,ak as L,aj as k,c as d,r as n,o as A,aw as g,j as r,ao as c,W as q,ap as b,aQ as x,aK as v,a9 as y,aq as I,au as P,aL as N,aM as M,ax as F}from"./index.2852d260.js";import{u as Q}from"./use-quasar.8b43c458.js";import{u as B}from"./app.1440f35c.js";const j={name:"AdminLogin",setup(){const o=Q(),s=B(),t=L(),e=k(),u=d(()=>t.isAuth),m=d(()=>l.value&&l.value.length>=4),a=d(()=>l.value&&l.value.length<6),h=n(""),p=n(""),l=n(null),i=n(!1),f=n(!1);function _(){s.$patch({appTitle:"Login"}),f.value=!0}A(async()=>{_()});async function w(){i.value=!0;try{await t.login(p.value,l.value)||o.notify({message:"Please check your name or password",color:"negative"}),e.replace("/home")}catch{o.notify({message:"Please check your name or password",color:"negative"})}finally{i.value=!1}}return{authStore:t,loginSuccess:h,isAuth:u,submit:w,displayForm:f,name:p,password:l,isPasswordValid:m,passwordTooShort:a,isLoading:i}}},E=o=>(N("data-v-d0001408"),o=o(),M(),o),R={class:"row flex-center container bg-primary"},T=E(()=>F("div",{class:"text-h3 q-ma-xl text-center text-info font-keep-on-truckin"},"Feij\xE3o M\xE1gico",-1));function W(o,s,t,e,u,m){return b(),g("div",R,[r(q,null,{default:c(()=>[e.displayForm?(b(),g("form",{key:0,class:"column items-center form",onSubmit:s[2]||(s[2]=x((...a)=>e.submit&&e.submit(...a),["prevent"]))},[T,r(v,{clearable:"",disable:e.isLoading,type:"text",color:"info","label-color":"info",modelValue:e.name,"onUpdate:modelValue":s[0]||(s[0]=a=>e.name=a),label:o.$t("NAME"),placeholder:o.$t("NAME"),class:"q-mb-sm control",rules:[a=>!!a||"Field is required"]},{prepend:c(()=>[r(y,{color:"info",name:"account_circle"})]),_:1},8,["disable","modelValue","label","placeholder","rules"]),r(v,{clearable:"",disable:e.isLoading,type:"password",color:"info","label-color":"info",placeholder:o.$t("PASSWORD"),label:o.$t("PASSWORD"),modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=a=>e.password=a),class:"q-mb-sm control",rules:[a=>!!a||"Field is required"]},{prepend:c(()=>[r(y,{color:"info",name:"key"})]),_:1},8,["disable","placeholder","label","modelValue","rules"]),r(I,{rounded:"",color:"info","text-color":"primary",label:o.$t("SIGN_IN"),loading:e.isLoading,disabled:!e.name||!e.isPasswordValid||e.isLoading,class:"q-mt-lg",type:"submit"},null,8,["label","loading","disabled"])],32)):P("",!0)]),_:1})])}var U=V(j,[["render",W],["__scopeId","data-v-d0001408"]]);export{U as default};
