import{Q as $}from"./QSpinnerTail.dac57e76.js";import{al as S,d as C,r as u,o as P,ap as Q,aq as v,ar as o,as as r,aA as d,j as s,ay as h,aB as k,F as w,aC as B,y as I,aD as j,av as x,aE as b,ax as q}from"./index.756c98db.js";import{Q as F}from"./QPage.7ed7d321.js";import{u as L}from"./picture.8328feff.js";import{u as M}from"./app.ec9d5d0a.js";import{u as z}from"./use-quasar.ef1201d0.js";const A=C({name:"IndexPage",setup(){const t=z(),p=M(),m=L(),n=u([]),i=u(!1),_=u("background: url('../assets/pictures/IMG_20230824_193519_Bokeh.jpg')");function c(){return g()}function a(){i.value=!0,p.$patch({appTitle:"Accueil"}),f()}P(async()=>{a()});function l(e){return`background: url('../assets/pictures/${e}')`}function g(){return Math.floor(Math.random()*(20- -20+1))+-20}async function f(){try{const e=await m.getPictures();e||t.notify({message:"Failed to get data",color:"negative",icon:"report_problem",position:"top",timeout:2500}),n.value=e.data,n.value.forEach(y=>{y.rotate=g()})}catch(e){console.log("failed to get data",e),t.notify({message:"Failed to get data",color:"negative",icon:"report_problem",position:"top",timeout:2500})}finally{i.value=!1}}return{getRotation:c,getPicture:l,pictures:n,getData:f,isLoading:i,url:_}}}),D={key:0,class:"row"},E={key:0},N={class:"row justify-center"},T={class:"text-h4 text-center font-caveat text-bold text-primary"};function V(t,p,m,n,i,_){const c=Q("router-link");return r(),v(F,{class:"page row justify-center items-center bg-secondary"},{default:o(()=>[t.isLoading?(r(),d("div",D,[s($,{color:"accent",size:"2em"})])):h("",!0),s(I,null,{default:o(()=>[t.isLoading?h("",!0):(r(),d("div",E,[k("div",N,[(r(!0),d(w,null,B(t.pictures,(a,l)=>(r(),v(j,{key:l,style:x({transform:`rotate(${a.rotate}deg)`}),class:"col-1-md q-ma-lg card bg-grey-lighter"},{default:o(()=>[s(c,{to:`/picture/${a.id}`},{default:o(()=>[s(b,{style:x({backgroundImage:`url('https://feijao-app.s3.eu-central-1.amazonaws.com/${a.url}')`}),class:"card__image"},null,8,["style"]),s(b,{class:"q-py-md bg-grey-lighter"},{default:o(()=>[k("div",T,q(a.title),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1032,["style"]))),128))])]))]),_:1})]),_:1})}var U=S(A,[["render",V],["__scopeId","data-v-dd904030"]]);export{U as default};
