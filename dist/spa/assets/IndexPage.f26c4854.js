import{Q as $}from"./QSpinnerTail.7b4804c4.js";import{aa as S,ab as P,r as u,o as Q,af as w,ag as v,ah as o,ai as s,ar as d,aj as r,ap as h,as as k,at as C,au as I,T as B,av as j,am as x,aw as b,ao as L}from"./index.886762cb.js";import{Q as M}from"./QPage.c510108b.js";import{u as T}from"./picture.fd7f1ffd.js";import{u as q}from"./app.b9f1ac3e.js";import{u as z}from"./use-quasar.0e1b00a7.js";const F=P({name:"IndexPage",setup(){const t=z(),p=q(),m=T(),n=u([]),i=u(!1),g=u("background: url('../assets/pictures/IMG_20230824_193519_Bokeh.jpg')");function c(){return console.log("get rotation"),_()}function a(){i.value=!0,p.$patch({appTitle:"Accueil"}),f()}Q(async()=>{a()});function l(e){return console.log(e),`background: url('../assets/pictures/${e}')`}function _(){return Math.floor(Math.random()*(20- -20+1))+-20}async function f(){try{const e=await m.getPictures();e||t.notify({message:"Failed to get data",color:"negative",icon:"report_problem",position:"top",timeout:2500}),n.value=e.data,n.value.forEach(y=>{y.rotate=_()})}catch(e){console.log("failed to get data",e),t.notify({message:"Failed to get data",color:"negative",icon:"report_problem",position:"top",timeout:2500})}finally{i.value=!1}}return{getRotation:c,getPicture:l,pictures:n,getData:f,isLoading:i,url:g}}}),N={key:0,class:"row"},V={key:0},A={class:"row justify-center"},D={class:"text-h4 text-center font-caveat text-bold text-primary"};function E(t,p,m,n,i,g){const c=w("router-link");return s(),v(M,{class:"page"},{default:o(()=>[t.isLoading?(s(),d("div",N,[r($,{color:"accent",size:"2em"})])):h("",!0),r(B,null,{default:o(()=>[t.isLoading?h("",!0):(s(),d("div",V,[k("div",A,[(s(!0),d(C,null,I(t.pictures,(a,l)=>(s(),v(j,{key:l,style:x({transform:`rotate(${a.rotate}deg)`}),class:"col-1-md q-ma-lg card bg-grey-lighter"},{default:o(()=>[r(c,{to:`/picture/${a.id}`},{default:o(()=>[r(b,{style:x({backgroundImage:`url('https://feijao-app.s3.eu-central-1.amazonaws.com/${a.url}')`}),class:"card__image"},null,8,["style"]),r(b,{class:"q-py-md bg-grey-lighter"},{default:o(()=>[k("div",D,L(a.title),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1032,["style"]))),128))])]))]),_:1})]),_:1})}var U=S(F,[["render",E],["__scopeId","data-v-600e1b3c"]]);export{U as default};
