import{Q}from"./QSpinnerTail.90e46a57.js";import{al as $,d as S,r as u,o as C,ap as P,aq as v,ar as r,as as s,aK as d,j as t,aF as h,aA as k,F as w,aL as B,y as I,ay as j,av as x,az as b,ax as z,aD as F,at as L}from"./index.44f6ce53.js";import{Q as q}from"./QPage.5bc6551c.js";import{u as A}from"./picture.1ce2ddd6.js";import{u as M}from"./app.0ca77772.js";import{u as D}from"./use-quasar.14d0d952.js";const N=S({name:"IndexPage",setup(){const a=D(),m=M(),p=A(),n=u([]),i=u(!1),_=u("background: url('../assets/pictures/IMG_20230824_193519_Bokeh.jpg')");function c(){return f()}function e(){i.value=!0,m.$patch({appTitle:"Accueil"}),g()}C(async()=>{e()});function l(o){return`background: url('../assets/pictures/${o}')`}function f(){return Math.floor(Math.random()*(20- -20+1))+-20}async function g(){try{const o=await p.getPictures();o||a.notify({message:"Failed to get data",color:"negative",icon:"report_problem",position:"top",timeout:2500}),n.value=o,n.value.forEach(y=>{y.rotate=f()})}catch{a.notify({message:"Failed to get data",color:"negative",icon:"report_problem",position:"top",timeout:2500})}finally{i.value=!1}}return{getRotation:c,getPicture:l,pictures:n,getData:g,isLoading:i,url:_}}}),T={key:0,class:"row"},V={key:0},E={class:"row justify-center"},G={class:"text-h4 text-center font-caveat text-bold text-primary"};function K(a,m,p,n,i,_){const c=P("router-link");return s(),v(q,{class:"page row justify-center items-center bg-secondary"},{default:r(()=>[a.isLoading?(s(),d("div",T,[t(Q,{color:"accent",size:"2em"})])):h("",!0),t(I,null,{default:r(()=>[a.isLoading?h("",!0):(s(),d("div",V,[k("div",E,[(s(!0),d(w,null,B(a.pictures,(e,l)=>(s(),v(j,{key:l,style:x({transform:`rotate(${e.rotate}deg)`}),class:"col-1-md q-ma-lg card bg-grey-lighter"},{default:r(()=>[t(c,{to:`/picture/${e.id}`},{default:r(()=>[t(b,{style:x({backgroundImage:`url('https://feijao-app.s3.eu-central-1.amazonaws.com/${e.url}')`}),class:"card__image"},null,8,["style"]),t(b,{class:"q-py-md bg-grey-lighter"},{default:r(()=>[k("div",G,z(e.title),1)]),_:2},1024),t(F,{align:"right"},{default:r(()=>[t(L,{size:"sm",flat:"",dense:"",color:"primary",icon:"comment",label:e.comment_count},null,8,["label"])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1032,["style"]))),128))])]))]),_:1})]),_:1})}var X=$(N,[["render",K],["__scopeId","data-v-5f217390"]]);export{X as default};
