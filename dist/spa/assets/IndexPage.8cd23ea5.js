import{Q as $}from"./QSpinnerTail.e9f7df01.js";import{al as S,d as P,r as u,o as Q,ap as w,aq as v,ar as o,as as r,aK as d,j as s,aF as h,aA as k,F as C,aL as I,y as j,ay as B,av as x,az as b,ax as F}from"./index.2d05252b.js";import{Q as L}from"./QPage.83897688.js";import{u as q}from"./picture.edd2d21c.js";import{u as z}from"./app.b8bd002d.js";import{u as M}from"./use-quasar.027e7412.js";const A=P({name:"IndexPage",setup(){const t=M(),p=z(),m=q(),n=u([]),i=u(!1),_=u("background: url('../assets/pictures/IMG_20230824_193519_Bokeh.jpg')");function c(){return g()}function a(){i.value=!0,p.$patch({appTitle:"Accueil"}),f()}Q(async()=>{a()});function l(e){return`background: url('../assets/pictures/${e}')`}function g(){return Math.floor(Math.random()*(20- -20+1))+-20}async function f(){try{const e=await m.getPictures();e||t.notify({message:"Failed to get data",color:"negative",icon:"report_problem",position:"top",timeout:2500}),n.value=e.data,n.value.forEach(y=>{y.rotate=g()})}catch(e){console.log("failed to get data",e),t.notify({message:"Failed to get data",color:"negative",icon:"report_problem",position:"top",timeout:2500})}finally{i.value=!1}}return{getRotation:c,getPicture:l,pictures:n,getData:f,isLoading:i,url:_}}}),N={key:0,class:"row"},T={key:0},V={class:"row justify-center"},D={class:"text-h4 text-center font-caveat text-bold text-primary"};function E(t,p,m,n,i,_){const c=w("router-link");return r(),v(L,{class:"page row justify-center items-center bg-secondary"},{default:o(()=>[t.isLoading?(r(),d("div",N,[s($,{color:"accent",size:"2em"})])):h("",!0),s(j,null,{default:o(()=>[t.isLoading?h("",!0):(r(),d("div",T,[k("div",V,[(r(!0),d(C,null,I(t.pictures,(a,l)=>(r(),v(B,{key:l,style:x({transform:`rotate(${a.rotate}deg)`}),class:"col-1-md q-ma-lg card bg-grey-lighter"},{default:o(()=>[s(c,{to:`/picture/${a.id}`},{default:o(()=>[s(b,{style:x({backgroundImage:`url('https://feijao-app.s3.eu-central-1.amazonaws.com/${a.url}')`}),class:"card__image"},null,8,["style"]),s(b,{class:"q-py-md bg-grey-lighter"},{default:o(()=>[k("div",D,F(a.title),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1032,["style"]))),128))])]))]),_:1})]),_:1})}var U=S(A,[["render",E],["__scopeId","data-v-dd904030"]]);export{U as default};
